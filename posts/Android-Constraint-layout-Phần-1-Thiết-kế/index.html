<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="[Android] Constraint layout - Phần 1: Thiết kế" /><meta property="og:locale" content="en_US" /><meta name="description" content="Khi xây dựng một màn hình có dạng một list các item trong Android, ta sẽ phải thiết kế layout cho các item của list đó, list đó có thể như thế này chẳng hạn:" /><meta property="og:description" content="Khi xây dựng một màn hình có dạng một list các item trong Android, ta sẽ phải thiết kế layout cho các item của list đó, list đó có thể như thế này chẳng hạn:" /><link rel="canonical" href="https://srinnix1395.github.io/posts/Android-Constraint-layout-Ph%E1%BA%A7n-1-Thi%E1%BA%BFt-k%E1%BA%BF/" /><meta property="og:url" content="https://srinnix1395.github.io/posts/Android-Constraint-layout-Ph%E1%BA%A7n-1-Thi%E1%BA%BFt-k%E1%BA%BF/" /><meta property="og:site_name" content="srinnix13" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2017-09-27T07:42:03+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Android] Constraint layout - Phần 1: Thiết kế" /><meta name="twitter:site" content="@srinnix13" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Khi xây dựng một màn hình có dạng một list các item trong Android, ta sẽ phải thiết kế layout cho các item của list đó, list đó có thể như thế này chẳng hạn:","headline":"[Android] Constraint layout - Phần 1: Thiết kế","dateModified":"2017-09-27T07:42:03+00:00","datePublished":"2017-09-27T07:42:03+00:00","url":"https://srinnix1395.github.io/posts/Android-Constraint-layout-Ph%E1%BA%A7n-1-Thi%E1%BA%BFt-k%E1%BA%BF/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://srinnix1395.github.io/posts/Android-Constraint-layout-Ph%E1%BA%A7n-1-Thi%E1%BA%BFt-k%E1%BA%BF/"},"@context":"https://schema.org"}</script><title>[Android] Constraint layout - Phần 1: Thiết kế | srinnix13</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/resources/github_avatar.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">srinnix13</a></div><div class="site-subtitle font-italic">The man who is looking for an olive branch and a piece of cheese, of course!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/srinnix1395" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/srinnix13" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/srinnix13" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['srinnix13','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[Android] Constraint layout - Phần 1: Thiết kế</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Android] Constraint layout - Phần 1: Thiết kế</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> tuha3 </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Sep 27, 2017, 7:42 AM +0000" prep="on" > Sep 27, 2017 <i class="unloaded">2017-09-27T07:42:03+00:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2682 words">14 min</span></div></div><div class="post-content"><p>Khi xây dựng một màn hình có dạng một list các item trong Android, ta sẽ phải thiết kế layout cho các item của list đó, list đó có thể như thế này chẳng hạn:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s3-ap-southeast-1.amazonaws.com/kipalog.com/lskfhol77v_components_lists_keylines_single9.png" /></div><p>Với item hiển thị contact như trong hình trên, <em>ViewGroup</em> đầu tiên xuất hiện trong đầu bạn để thiết kế được layout của item là gì?</p><ul><li><em>LinearLayout</em> rồi, còn dùng cái gì nữa!?!.<li><em>RelativeLayout</em> cũng được, tùy</ul><p>Chắc chắn 2 loại <em>ViewGroup</em> này sẽ là 2 loại phổ biến nhất và cũng là 2 loại đầu tiên bạn có thể nghĩ đến. OK. Tiếp:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s3-ap-southeast-1.amazonaws.com/kipalog.com/c75dmv1beh_components_lists_keylines_two11.png" /></div><p>Uhm, có vẻ phức tạp lên một chút rồi đấy? Ah mà kết hợp <em>RelativeLayout</em> với <em>LinearLayout</em> là được chứ gì.</p><p>Với một layout đơn giản như thế này, bạn đang sử dụng một layout với độ sâu là 2 tầng (một <em>RelativeLayout</em> và một <em>LinearLayout</em> ở bên trong). Tuy vậy, với các layout phức tạp hơn rất nhiều, việc thiết kế một layout có độ sâu quá lớn sẽ ảnh hưởng rất nhiều đến <a href="https://developer.android.com/topic/performance/rendering/optimizing-view-hierarchies.html">performance</a> trong quá trình tính toán và vẽ các thành phần lên màn hình. Giải thích nôm na là vì mỗi lần bạn vẽ một <em>ViewGroup</em>, Android sẽ duyệt tất cả các thằng con của <em>ViewGroup</em> để tính toán và sắp xếp các view con. Nếu <em>ViewGroup</em> càng sâu, nỗi đau sẽ càng dai dẳng :v. Bởi vậy, tại Google I/O 2016, Google đã giới thiệu một loại <em>ViewGroup</em> mới: <em>ConstraintLayout</em>, giúp cho việc giảm thiểu độ sâu của các layout được thiết kế, cùng với đó là giúp cho việc thiết kế bằng kéo thả (design editor) được dễ dàng hơn (mình vẫn thích code tay hơn là kéo thả ~~)</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.ytimg.com/vi/z53Ed0ddxgM/maxresdefault.jpg" /></div><p>Với <em>ConstraintLayout</em>, ta có thể làm được những việc <em>RelativeLayout</em> và <em>LinearLayout</em> làm được và cả những việc 2 loại layout trên không làm được. Tò mò chứ? Băt đầu thôi, không thể thời gian bay đi nữa ~~</p><h1 id="vị-trí-tương-đối">Vị trí tương đối</h1><p>Dựa vào tên, ta có thể đoán ra được việc sắp xếp các <em>View</em> con bên trong <em>ConstraintLayout</em> sẽ dựa vào các ràng buộc (constraint), tức là <em>View</em> này ràng buộc vào <em>View</em> kia mà sắp xếp. Nghĩ một chút thì cũng có vẻ giống giống <em>RelativeLayout</em> khi các <em>View</em> con sẽ được sắp xếp dựa theo vị trí tương đối so với các <em>View</em> khác. Tuy nhiên, <em>ConstraintLayout</em> còn làm được nhiều hơn thế. Đầu tiên, mình sẽ cho các bạn thấy <em>ConstraintLayout</em> giống <em>RelativeLayout</em> như thế nào:</p><p>Trong <em>RelativeLayout</em>, để căn cho 2 cạnh bên cùng một phía của 2 <em>View</em> được thẳng hàng với nhau, ta sử dụng các thuộc tính <em>layout_align*</em>. Để làm được điều tương tự với <em>ConstraintLayout</em>, ta sử dụng các thuộc tính để neo một phía của <em>View</em> này với phía tương tự của <em>View</em> kia:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>    //RelativeLayout
    android:layout_alignStart="@id/view"
    android:layout_alignLeft="@id/view"
    android:layout_alignEnd="@id/view"
    android:layout_alignRight="@id/view"
    android:layout_alignTop="@id/view"
    android:layout_alignBaseline="@id/view"
    android:layout_alignBottom="@id/view"

    //ConstraintLayout
    app:layout_constraintStart_toStartOf="@id/view"
    app:layout_constraintLeft_toLeftOf="@id/view"
    app:layout_constraintEnd_toEndOf="@id/view"
    app:layout_constraintRight_toRightOf="@id/view"
    app:layout_constraintTop_toTopOf="@id/view"
    app:layout_constraintBaseline_toBaselineOf="@id/view"
    app:layout_constraintBottom_toBottomOf="@id/view"
</pre></table></code></div></div><p>Để thao tác nhanh bằng kéo thả, ta có thể làm như sau:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/ihySq89Whi.gif" /></div><p>hoặc:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/rRYfeMJy35.gif" /></div><p>Nếu muốn 2 <em>View</em> được sắp xếp bên cạnh nhau, ta sử dụng các thuộc tính <em>layout_to*Of</em> đối với <em>RelativeLayout</em> và với <em>ConstraintLayout</em> là các thuộc tính để neo một cạnh của <em>View</em> này vào cạnh đối diện của <em>View</em> kia:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>    //RelativeLayout
    android:layout_toStartOf="@id/view"
    android:layout_toLeftOf="@id/view"
    android:layout_toEndOf="@id/view"
    android:layout_toRightOf="@id/view"
    android:layout_above="@id/view"
    android:layout_below="@id/view"

    //ConstraintLayout
    app:layout_constraintStart_toEndOf="@id/view"
    app:layout_constraintLeft_toRightOf="@id/view"
    app:layout_constraintEnd_toStartOf="@id/view"
    app:layout_constraintRight_toLeftOf="@id/view"
    app:layout_constraintTop_toBottomOf="@id/view"
    app:layout_constraintBottom_toTopOf="@id/view"
</pre></table></code></div></div><p>Với phiên bản kéo thả, nó sẽ như thế này:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/CCpK4bWQOx.gif" /></div><p>Tiếp theo, để neo được các <em>View</em> vào các cạnh trên, dưới, trái hoặc phải của <em>ViewGroup</em> cha, ta sử dụng các thuộc tính <em>layout_alignParent*</em> đối với <em>RelativeLayout</em>. Còn với <em>ConstraintLayout</em>, layout này cung cấp một giá trị là <code class="language-plaintext highlighter-rouge">parent</code>, khi sử dụng các giá trị này với các thuộc tính ràng buộc đã nói ở trên, ta sẽ đạt được kết quả như với <em>RelativeLayout</em></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>    //RelativeLayout
    android:layout_alignParentStart="true"
    android:layout_alignParentLeft="true"
    android:layout_alignParentEnd="true"
    android:layout_alignParentRight="true"
    android:layout_alignParentTop="true"
    android:layout_alignParentBottom="true"

    //ConstraintLayout
    app:layout_constraintStart_toStartOf="parent"
    app:layout_constraintLeft_toLeftOf="parent"
    app:layout_constraintEnd_toEndOf="parent"
    app:layout_constraintRight_toRightOf="parent"
    app:layout_constraintTop_toTopOf="parent"
    app:layout_constraintBottom_toBottomOf="parent"
</pre></table></code></div></div><p>Phiên bản kéo thả:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/zmFVFy549d.gif" /></div><p>Với các thuộc tính ở trên, ta chỉ có thể neo 1 cạnh của <em>View</em> vào một cạnh nào đó. Vậy, nếu ta neo nhiều cạnh của một <em>View</em> vào nhiều cạnh của các <em>View</em> khác. Điều gì sẽ xảy ra?</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>&lt;TextView
    style="@style/TextAppearance.AppCompat.Large"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="hello world"
    app:layout_constraintBottom_toBottomOf="parent"
    app:layout_constraintEnd_toEndOf="parent"
    app:layout_constraintStart_toStartOf="parent"
    app:layout_constraintTop_toTopOf="parent"/&gt;
</pre></table></code></div></div><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s3-ap-southeast-1.amazonaws.com/kipalog.com/vlsycrsiag_Screenshot_20170826-121805.png" /></div><p>Phiên bản kéo thả:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/0Sq5xlnPyC.gif" /></div><p>Ô, vậy là giống với <code class="language-plaintext highlighter-rouge">layout_centerInParent</code>, <code class="language-plaintext highlighter-rouge">layout_centerHorizontal</code> và <code class="language-plaintext highlighter-rouge">layout_centerVertical</code> của <em>RelativeLayout</em> ah ~~. Yup, để các <em>View</em> được căn vào giữa của 2 cạnh nào đó, ta chỉ cần neo 2 cạnh (hoặc 4 cạnh) của <em>View</em> đó vào 2 cạnh (hoặc 4 cạnh) là được. Và đó chưa phải là điều hay nhất.</p><p>Ngoài ra, khi neo 2 cạnh đối diện của một view vào cùng một điểm neo, view đó sẽ được căn vào chính giữa của điểm neo đó:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>&lt;Button
    android:id="@+id/btn_visible"
    android:layout_width="72dp"
    android:layout_height="32dp"
    android:layout_marginStart="16dp"
    android:background="@color/colorAccent"
    app:layout_constraintStart_toStartOf="parent"/&gt;

&lt;Button
    android:id="@+id/btn_delete"
    android:layout_width="72dp"
    android:layout_height="32dp"
    android:layout_marginTop="8dp"
    android:background="@color/colorAccent"
    app:layout_constraintEnd_toEndOf="@id/btn_visible"
    app:layout_constraintStart_toEndOf="@id/btn_visible"
    app:layout_constraintTop_toBottomOf="@+id/btn_visible"/&gt;
</pre></table></code></div></div><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/XO5ueN5_T9y8kxdcnELYeg.png" /></div><p>Thế nếu bạn không muốn nó vào giữa, mà là nằm ở vị trí 30% hoặc 70% chiều rộng của <em>ViewGroup</em> cha thì sao. <em>RelativeLayout</em> thì làm thế nào được ~~. Thế mà, <em>ConstraintLayout</em> lại cung cấp một thuộc tính cho phép đạt được điều này: <em>bias</em> - có thể hiểu là bạn muốn sắp xếp <em>View</em> này thiên về bên nào hơn. Giá trị của <em>bias</em> nằm trong khoảng từ 0 đến 1 và có kiểu <em>Float</em>. Thuộc tính này chỉ có tác dụng khi <em>View</em> đang neo 2 cạnh đối diện hoặc cả 4 cạnh. <em>ConstraintLayout</em> cung cấp thuộc tính này cho cả chiều ngang (horizontal) và chiều dọc (vertical). Và nếu khi đã neo 2 cạnh hoặc 4 cạnh, nếu không có giá trị <em>bias</em> nào được chỉ định, <em>bias</em> sẽ có giá trị mặc định là <code class="language-plaintext highlighter-rouge">0.5</code>, tức là vào giữa của 2 hoặc 4 điểm neo. VD:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>&lt;TextView
    style="@style/TextAppearance.AppCompat.Large"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="hello world"
    app:layout_constraintBottom_toBottomOf="parent"
    app:layout_constraintEnd_toEndOf="parent"
    app:layout_constraintHorizontal_bias="0.3"
    app:layout_constraintStart_toStartOf="parent"
    app:layout_constraintTop_toTopOf="parent"
    app:layout_constraintVertical_bias="0.7"/&gt;
</pre></table></code></div></div><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s3-ap-southeast-1.amazonaws.com/kipalog.com/5qlf0wo8u1_Screenshot_20170826-123319.png" /></div><p>Bằng kéo thả:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/p2J72PhCWI.gif" /></div><p>Thêm một lưu ý: giá trị <code class="language-plaintext highlighter-rouge">match_parent</code> khi xác định width và height của một <em>View</em> sẽ không còn được hỗ trợ với <em>ConstraintLayout</em> nữa. Thay vào đó, <em>ConstraintLayout</em> giới thiệu một giá trị khác: <code class="language-plaintext highlighter-rouge">match_constraint</code> cũng có mục đích tương tự với <code class="language-plaintext highlighter-rouge">match_parent</code>. Ta sẽ sử dụng <code class="language-plaintext highlighter-rouge">match_constraint</code> bằng cách set <code class="language-plaintext highlighter-rouge">layout_width</code> hoặc <code class="language-plaintext highlighter-rouge">layout_height</code> bằng <code class="language-plaintext highlighter-rouge">0dp</code> và neo 2 cạnh đối diện của <em>View</em> vào 2 bên tương ứng để width/ height của <em>View</em> tràn ra và đạt được hiệu ứng như <code class="language-plaintext highlighter-rouge">match_parent</code>.</p><h1 id="tỷ-lệ-giữa-width-và-height-constraint-dimension-ratio">Tỷ lệ giữa width và height (constraint dimension ratio)</h1><p>Để hiển thị một list các item dưới dạng grid, như là hiển thị một list hình ảnh như Instagram, bạn sẽ thiết kế từng item thế nào:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s3-ap-southeast-1.amazonaws.com/kipalog.com/u27mw8dxvc_image.png" /></div><p>Uhm, có thể custom lại <em>View</em>: trong <em>onMeasure</em> tính toán cho height bằng width là được,… Tuy nhiên, với một developer beginner như mình (thiết kế layout còn chả xong nữa là custom view ~~), thì việc chỉ cần sử dụng thuộc tính <code class="language-plaintext highlighter-rouge">layout_constraintDimensionRatio</code> của <em>ConstraintLayout</em> để thiết kế được item hình vuông đó thực sự dễ như một miếng bánh vậy ^^:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>&lt;ImageView
    android:id="@+id/textView"
    android:layout_width="100dp"
    android:layout_height="0dp"
    app:layout_constraintBottom_toBottomOf="parent"
    app:layout_constraintDimensionRatio="1:1"
    app:layout_constraintEnd_toEndOf="parent"
    app:layout_constraintStart_toStartOf="parent"
    app:layout_constraintTop_toTopOf="parent"/&gt;
</pre></table></code></div></div><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/Z-hpWWMlRwOpyHcm0ms65Q.png" /></div><p>Giá trị của thuộc tính này là tỷ lệ giữa width và height của <em>View</em>. Và để sử dụng thuộc tính này, giá trị của <em>layout_width</em> hoặc <em>layout_height</em> hoặc cả 2 phải là <code class="language-plaintext highlighter-rouge">match_constraint</code>. Trong trường hợp cả 2 thuộc tính đều là <code class="language-plaintext highlighter-rouge">match_constraint</code>, Android sẽ lấy giá trị lớn nhất của width hoặc height thỏa mãn được việc sắp xếp trong <em>ViewGroup</em> cha mà vẫn giữ được tỷ lệ giữa width và height đã khai báo.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>&lt;ImageView
    android:id="@+id/textView"
    android:layout_width="0dp"
    android:layout_height="0dp"
    android:src="@color/colorAccent"
    app:layout_constraintBottom_toBottomOf="parent"
    app:layout_constraintDimensionRatio="1:1"
    app:layout_constraintEnd_toEndOf="parent"
    app:layout_constraintStart_toStartOf="parent"
    app:layout_constraintTop_toTopOf="parent"/&gt;
</pre></table></code></div></div><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/e6ru9cE8Sy_NE25iVfAGiQ.png" /></div><p>Và bằng kéo thả:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/ffXkF0VzIW.gif" /></div><p>Ngoài ra, với <em>ratio</em> chúng ta cũng có thể xác định rõ xem width phải ràng buộc theo height hay height phải ràng buộc theo width bằng cách thêm <code class="language-plaintext highlighter-rouge">W</code> hoặc <code class="language-plaintext highlighter-rouge">H</code> vào trước tỷ lệ.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>&lt;ImageView
    android:id="@+id/textView"
    android:layout_width="90dp"
    android:layout_height="0dp"
    android:src="@color/colorAccent"
    app:layout_constraintBottom_toBottomOf="parent"
    app:layout_constraintDimensionRatio="W, 4:3"
    app:layout_constraintEnd_toEndOf="parent"
    app:layout_constraintStart_toStartOf="parent"
    app:layout_constraintTop_toTopOf="parent"/&gt;
</pre></table></code></div></div><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/2r-ixdUhSCaMAdbiMniFZA.png" /></div><p>Trong trường hợp ở trên, width ở đây phải ràng buộc theo height. Tuy nhiên, vì width đã được set một giá trị cố định là 90dp nên Android sẽ dãn height ra để tỷ lệ 4:3 vẫn được thỏa mãn. Bởi vậy, thực tế là tỷ lệ giữa width và height không còn là 4:3 nữa mà sẽ là 3:4 tức là height = 120dp</p><h1 id="chuỗi-chain">Chuỗi (Chain)</h1><p>Cơ chế của <em>LinearLayout</em> cho phép chúng ta có thể sắp xếp các <em>View</em> lần lượt cạnh nhau từ trái sang phải hoặc từ trên xuống dưới. Trong <em>ConstraintLayout</em>, ta cũng có thể làm điều này bằng cách liên kết các <em>View</em> đó thành một nhóm thông qua việc sử dụng <em>chain</em>.</p><p>Để tạo một <em>chain</em>, ta cần kết nối các <em>View</em> với nhau theo cả 2 hướng (<strong>bi-directional connection</strong>) và phải là từ 2 hướng. 2 hướng ở đây có nghĩa là ví dụ đuôi của view 1 neo vào đầu của view 2 và đầu của view 2 cũng cần được neo vào đuôi của view 1. Nếu kết nối chỉ có từ 1 phía, Android sẽ không thể nhận ra được các <em>View</em> đó nằm trong cùng một <em>chain</em></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre>&lt;Button
    android:id="@+id/label_a"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:gravity="center"
    android:text="A"
    android:textSize="22sp"
    app:layout_constraintEnd_toStartOf="@+id/label_b"
    app:layout_constraintHorizontal_chainStyle="spread"
    app:layout_constraintStart_toStartOf="parent"/&gt;

&lt;Button
    android:id="@+id/label_b"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:gravity="center"
    android:text="B"
    android:textSize="22sp"
    app:layout_constraintEnd_toEndOf="parent"
    app:layout_constraintStart_toEndOf="@id/label_a"/&gt;
</pre></table></code></div></div><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/GKoqxIErSU_CLDBz9fbyUw.png" /></div><p>Để tạo một <em>chain</em> mà khoảng 10 view thì việc kết nối 10 view đó mà lại bằng code thì đúng là chán như con gián ~~. Trong trường hợp này thì kéo thả thực sự có một sức mạnh to “nớn” ^^</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/Y2FP52XJlo.gif" /></div><p>Đối với một <em>chain</em>, các thuộc tính của cả <em>chain</em> đó sẽ được thiết lập ở phần tử đầu tiên của <em>chain</em> (<em>head chain</em>): phần tử phía bên trái nhất đối với <em>horizontal chain</em> và phần tử trên cùng với <em>vertical chain</em></p><p>Ở ví dụ ngay phía trên, ta có thể thấy một thuộc tính xác định style của <em>chain</em>, giá trị của thuộc tính đó sẽ được xác định ở phần tử <em>head chain</em> và có thể là 1 trong 4 kiểu sau:</p><p><strong>1. Spread</strong>: Các <em>View</em> sẽ được phân bố một cách đều nhau và đây là style mặc định của một <em>chain</em>. <code class="language-plaintext highlighter-rouge">layout_constraintHorizontal_chainStyle="spread"</code> <code class="language-plaintext highlighter-rouge">layout_constraintVertical_chainStyle="spread"</code></p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/V_Aia1y9SlWRVsmRu7W8ig.png" /></div><p>Nếu sử dụng <em>LinearLayout</em>, chắc chắn là sẽ có một chút gì đó vất vả hơn</p><p><strong>2. Spread inside</strong>: 2 phần tử đầu tiên và cuối cùng sẽ được neo vào 2 điểm ràng buộc ở đầu và cuối của <em>chain</em>, các phần tử ở giữa còn lại được phân bố một cách đều nhau như với style <em>spread</em>. <code class="language-plaintext highlighter-rouge">layout_constraintHorizontal_chainStyle="spread_inside"</code> <code class="language-plaintext highlighter-rouge">layout_constraintVertical_chainStyle="spread_inside"</code></p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/3IBJc44iQIWLM4PWja3hPw.png" /></div><p><strong>3. Weighted</strong>: Khi style của <em>chain</em> được set là <em>spread</em> hoặc <em>spread inside</em>, các khoảng trống giữa các <em>View</em> sẽ có thể được chiếm bởi chính các <em>View</em> đó. Để làm được điều này, ta cần set <code class="language-plaintext highlighter-rouge">layout_width</code> hoặc <code class="language-plaintext highlighter-rouge">layout_height</code> của view muốn chiếm chỗ là <code class="language-plaintext highlighter-rouge">match_constraint</code>. Ngoài ra, khi các <em>View</em> đều đã chiếm hết các khoảng trống, ta có thể xác định xem <em>View</em> nào chiếm nhiều phần hơn <em>View</em> nào bằng cách sử dụng thuộc tính <code class="language-plaintext highlighter-rouge">layout_constraintHorizontal_weight</code> hoặc <code class="language-plaintext highlighter-rouge">layout_constraintVertical_weight</code>. Các thuộc tính này hoạt động giống với <code class="language-plaintext highlighter-rouge">layout_weight</code> trong <em>LinearLayout</em>: weight lớn hơn thì chiếm nhiều phần hơn, weight bằng nhau thì chiếm phần bằng nhau:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/4UYRV3GsS1C2B2oWXveXCQ.png" /></div><p>Trong trường hợp dưới đây, <em>TextView</em> C đâu r nhỉ?</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre>&lt;TextView
    android:id="@+id/label_a"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:gravity="center"
    app:layout_constraintHorizontal_weight="3"
    android:text="A"
    android:textSize="22sp"
    app:layout_constraintEnd_toStartOf="@+id/label_b"
    app:layout_constraintHorizontal_chainStyle="spread"
    app:layout_constraintStart_toStartOf="parent"/&gt;

&lt;TextView
    android:id="@+id/label_b"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:gravity="center"
    app:layout_constraintHorizontal_weight="2"
    android:text="B"
    android:textSize="22sp"
    app:layout_constraintEnd_toStartOf="@+id/label_c"
    app:layout_constraintStart_toEndOf="@id/label_a"/&gt;

&lt;TextView
    android:id="@+id/label_c"
    android:layout_width="0dp"
    android:layout_height="wrap_content"
    android:gravity="center"
    android:text="C"
    android:textSize="22sp"
    app:layout_constraintEnd_toEndOf="parent"
    app:layout_constraintStart_toEndOf="@id/label_b"/&gt;
</pre></table></code></div></div><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/Vuvh6_wHQqqo8iwnTpAbTQ.png" /></div><p>Nhớ nhớ: nếu một phần tử C trong chuỗi <code class="language-plaintext highlighter-rouge">match_constraint</code> nhưng lại không được set weight và các phần tử còn lại đều được set weight hoặc <code class="language-plaintext highlighter-rouge">wrap_content</code>, phần tử C đó sẽ không được hiển thị lên.</p><p><strong>4. Packed</strong>: Các <em>View</em> trong <em>chain</em> sẽ được “bó” vào nhau. Với style này, bạn có thể xác định <em>bias</em> cho cả <em>chain</em> bằng cách thay đổi giá trị <em>bias</em> ở phần tử <em>head chain</em> <code class="language-plaintext highlighter-rouge">layout_constraintHorizontal_chainStyle="packed"</code> <code class="language-plaintext highlighter-rouge">layout_constraintVertical_chainStyle="packed"</code></p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/NS832nxpTPyvK4sd19P3wg.png" /></div><p>Và với <em>packed chain</em> có <em>bias</em> bằng 0.2 <code class="language-plaintext highlighter-rouge">layout_constraintHorizontal_bias="0.2"</code></p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/jaJKASd8RZ2BoDysxJ0POA.png" /></div><p>Bằng kéo thả, việc thay đổi chain style, căn trái, phải, trên, dưới, hoặc center cả <em>chain</em> cũng rất dễ dàng:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/IGG4xptHBP.gif" /></div><h2 id="margin">Margin</h2><p>Trong <em>ConstraintLayout</em>, <em>margin</em> sẽ chỉ có tác dụng trong trường hợp <em>View</em> đã được neo vào đúng hướng với hướng muốn margin. Một điểm khác nữa với <em>margin</em> trong <em>ConstraintLayout</em> là *margin_ không được là số âm.</p><p>Khi một view được <code class="language-plaintext highlighter-rouge">GONE</code> đi, mọi giá trị size của <em>View</em> đều sẽ bằng <code class="language-plaintext highlighter-rouge">0dp</code> nhưng vẫn sẽ tham gia vào quá trình tính toán các ràng buộc. Cùng với đó, tất cả các margin đối với những ràng buộc của <em>View</em> này cũng sẽ được set bằng <code class="language-plaintext highlighter-rouge">0dp</code>. Trong trường hợp đó, layout sẽ ngay lập tức bị phá vỡ. Bởi vậy, <em>ConstraintLayout</em> đã cung cấp thêm một số thuộc tính mới dành cho <em>margin</em> để xác định <em>margin</em> trong trường hợp <em>View</em> được lấy làm mỏ để neo biến mất - <code class="language-plaintext highlighter-rouge">visibility="GONE"</code>. Lưu ý: giá trị <em>margin</em> này sẽ chỉ có tác dụng trong trường hợp <em>View</em> làm mỏ neo bị biến mất:</p><p>Trường hợp button <code class="language-plaintext highlighter-rouge">btn_visible</code> còn visible:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>&lt;Button
    android:id="@+id/btn_visible"
    android:layout_width="72dp"
    android:layout_height="32dp"
    android:layout_marginStart="16dp"
    android:background="@color/colorAccent"
    app:layout_constraintStart_toStartOf="parent"/&gt;

&lt;Button
    android:id="@+id/btn_delete"
    android:layout_width="72dp"
    android:layout_height="32dp"
    android:layout_marginStart="8dp"
    android:background="@color/colorAccent"
    app:layout_constraintStart_toEndOf="@id/btn_visible"
    app:layout_goneMarginStart="98dp"/&gt;
</pre></table></code></div></div><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/-ebXQlHJTuqtdFX_btbI_Q.png" /></div><p>Và khi button <code class="language-plaintext highlighter-rouge">btn_visible</code> GONE đi - <code class="language-plaintext highlighter-rouge">visibility="gone"</code>, button <code class="language-plaintext highlighter-rouge">btn_delete</code> vẫn ở nguyên vị trí cũ bởi đã được margin start 98dp bằng chính độ rộng của button <code class="language-plaintext highlighter-rouge">btn_visible</code> và margin start của button <code class="language-plaintext highlighter-rouge">btn_visible</code></p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://image.prntscr.com/image/KaPro50JTxurEdq73FWS-Q.png" /></div><p>Bằng kéo thả cũng rất lẹ:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/EosYEVTW18.gif" /></div><h2 id="guideline">Guideline</h2><p>Android cũng cung cấp thêm một <em>Widget</em> mới là <em>Guideline</em> (có dạng như một đường thẳng) đóng vai trò như một điểm để neo các <em>View</em> khác vào. Vì chỉ nhằm mục đích thiết kế, <em>Guideline</em> sẽ chỉ hiển thị trên bản thiết kế (blueprint) hoặc preview editor chứ không hiển thị khi chạy ứng dụng</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://s3-ap-southeast-1.amazonaws.com/kipalog.com/tdyfyttlx8_image.png" /></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>&lt;android.support.constraint.Guideline
    android:id="@+id/guideline1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    app:layout_constraintGuide_begin="80dp"/&gt;

&lt;android.support.constraint.Guideline
    android:id="@+id/guideline2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    app:layout_constraintGuide_percent="0.5"/&gt;
</pre></table></code></div></div><p><em>Guideline</em> chỉ có 2 thuộc tính bạn cần chú ý đến: một là hướng của <em>Guideline</em>: <code class="language-plaintext highlighter-rouge">horizontal</code> hay <code class="language-plaintext highlighter-rouge">vertical</code>. Thứ hai là vị trí của <em>Guideline</em> trên bản thiết kế: ở một vị trí xác định <code class="language-plaintext highlighter-rouge">layout_constraintGuide_begin</code> hoặc ở một vị trí tương đối <code class="language-plaintext highlighter-rouge">layout_constraintGuide_percent</code>. Vì đây chỉ là một <em>Widget</em> có tác dụng hỗ trợ việc thiết kế chứ không được hiển thị lên, bạn sẽ không thể neo được <em>Guideline</em> vào đâu cả.</p><p>Kéo thả lần cuối cùng ~~:</p><div style="text-align:center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="http://g.recordit.co/F1MbE9YpbW.gif" /></div><hr /><p>Phù ~~, nếu đã đọc đến đây (hoặc chỉ kéo xuống dưới và vô tình thấy dòng này), thì bạn thực sự là một người nhẫn nại (hoặc là một tên lười đọc). Sau một đống lý thuyết loằng ngoằng, liệu bạn đã tìm ra cách để thiết kế layout ở đầu bài viết mà chỉ cần dùng 1 <em>ViewGroup</em> duy nhất hay chưa? Nếu vẫn còn mông lung như một trò đùa, thì em xin dang tay rút lui thôi :v Đùa đấy, một chút gợi ý <a href="">ở đây</a> nhớ.</p><p>Và cuối cùng, hãy nghiền ngẫm thêm về <em>ConstraintLayout</em> và đợi chờ phần 2 - một phần chắc chắn sẽ đẹp mắt và thú vị hơn nhớ ^^</p><h2 id="tham-khảo">Tham khảo:</h2><ul><li><a href="https://developer.android.com/reference/android/support/constraint/ConstraintLayout.html">Constraint layout</a><li><a href="https://developer.android.com/training/constraint-layout/index.html#adjust-the-view-margins">Build a Responsive UI with ConstraintLayout</a><li><a href="https://medium.com/@loutry/guide-to-constraintlayout-407cd87bc013">Guide to constraint layout</a><li><a href="https://medium.com/@nomanr/constraintlayout-chains-4f3b58ea15bb">Constraint layout chains</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming/'>Programming</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/design/" class="post-tag no-text-decoration" >design</a> <a href="/tags/layout/" class="post-tag no-text-decoration" >layout</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[Android] Constraint layout - Phần 1: Thiết kế - srinnix13&url=https://srinnix1395.github.io/posts/Android-Constraint-layout-Ph%E1%BA%A7n-1-Thi%E1%BA%BFt-k%E1%BA%BF/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[Android] Constraint layout - Phần 1: Thiết kế - srinnix13&u=https://srinnix1395.github.io/posts/Android-Constraint-layout-Ph%E1%BA%A7n-1-Thi%E1%BA%BFt-k%E1%BA%BF/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[Android] Constraint layout - Phần 1: Thiết kế - srinnix13&url=https://srinnix1395.github.io/posts/Android-Constraint-layout-Ph%E1%BA%A7n-1-Thi%E1%BA%BFt-k%E1%BA%BF/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://srinnix1395.github.io/posts/Android-Constraint-layout-Ph%E1%BA%A7n-1-Thi%E1%BA%BFt-k%E1%BA%BF/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Android-Dagger2-Ph%E1%BA%A7n-IV/">[Android] Dagger 2 - Phần IV: A new horizon</a><li><a href="/posts/Android-Dagger2-Ph%E1%BA%A7n-I/">[Android] Dagger 2 - Phần I: Basic principles</a><li><a href="/posts/Android-Dagger2-Ph%E1%BA%A7n-II/">[Android] Dagger 2 - Phần II: Into the Dagger 2</a><li><a href="/posts/Android-Dagger-2-Ph%E1%BA%A7n-III-1/">[Android] Dagger 2 - Phần III - 1: The time of our dependencies</a><li><a href="/posts/Android-Dagger-2-Ph%E1%BA%A7n-III-2/">[Android] Dagger 2 - Phần III - 2: The time of our dependencies</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/dagger/">dagger</a> <a class="post-tag" href="/tags/dependency-injection/">dependency injection</a> <a class="post-tag" href="/tags/bitmap/">bitmap</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/image/">image</a> <a class="post-tag" href="/tags/layout/">layout</a> <a class="post-tag" href="/tags/recyclerview/">recyclerview</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Android-Implement-StickyHeaderRecyclerView-v%E1%BB%9Bi-ItemDecoration-c%E1%BB%A7a-RecyclerView/"><div class="card-body"> <span class="timeago small" > Mar 12, 2018 <i class="unloaded">2018-03-12T07:42:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Android] Implement StickyHeaderRecyclerView với ItemDecoration của RecyclerView</h3><div class="text-muted small"><p> Tại Google I/O 2014, cùng với sự ra mắt của Android Lollipop, Google đã giới thiệu RecyclerView - a better ListView với nhiều cải tiến cho phép gia tăng hiệu năng, đồng thời giải quyết nhiều vấn đề...</p></div></div></a></div><div class="card"> <a href="/posts/Android-T%E1%BA%A1o-thumbnail-cho-l%E1%BA%A7n-%C4%91%E1%BA%A7u-ti%C3%AAn/"><div class="card-body"> <span class="timeago small" > Mar 17 <i class="unloaded">2021-03-17T07:42:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Android] Tạo thumbnail cho lần đầu tiên</h3><div class="text-muted small"><p> Upload ảnh là một chức năng thường thấy ở các ứng dụng trên smartphone hiện nay. Tuy nhiên, khi upload một tấm ảnh lên, các ứng dụng thường sẽ scale down tấm ảnh đó xuống đến một size nào đó để giả...</p></div></div></a></div><div class="card"> <a href="/posts/Android-Dagger2-Ph%E1%BA%A7n-I/"><div class="card-body"> <span class="timeago small" > Apr 20 <i class="unloaded">2021-04-20T07:42:01+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Android] Dagger 2 - Phần I: Basic principles</h3><div class="text-muted small"><p> Mình biết đến Dagger (chính xác là Dagger 2) khi còn đi thực tập ở một công ty. Vì chỉ là một android intern làm việc 4 tiếng một ngày nên công việc chính của mình chỉ là fix một vài cái issue bé b...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <span class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></span> <a href="/posts/Android-Implement-StickyHeaderRecyclerView-v%E1%BB%9Bi-ItemDecoration-c%E1%BB%A7a-RecyclerView/" class="btn btn-outline-primary" prompt="Newer"><p>[Android] Implement StickyHeaderRecyclerView với ItemDecoration của RecyclerView</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/srinnix13">tuha3</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/dagger/">dagger</a> <a class="post-tag" href="/tags/dependency-injection/">dependency injection</a> <a class="post-tag" href="/tags/bitmap/">bitmap</a> <a class="post-tag" href="/tags/design/">design</a> <a class="post-tag" href="/tags/image/">image</a> <a class="post-tag" href="/tags/layout/">layout</a> <a class="post-tag" href="/tags/recyclerview/">recyclerview</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://srinnix1395.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
